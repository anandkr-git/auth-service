<div class="page-header">
  <h3>{{actionName}} Role:</h3>
</div>
<form name="roleForm" novalidate>
	<div class="form-group col-sm-12">
	  <div data-ng-show="added" class="alert alert-success alert-dismissible" role="alert">
		  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		  <strong>Success!</strong> Role <strong>{{role.name}}</strong> has been {{action}}. <a data-ng-href="#/roles">View list</a>.
		</div>
		<div data-ng-show="alreadyExists" class="alert alert-danger alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <strong>Not added!</strong> Role <strong>{{role.name}}</strong> already exists in the database. <a data-ng-href="#/roles">View list</a>.
    </div>
    <div data-ng-show="errorAdding" class="alert alert-danger alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <strong>Not added!</strong> There was a problem adding Role <strong>{{role.name}}</strong>. Please try again. <a data-ng-href="#/roles">View list</a>.
    </div>
	  <div class="col-sm-4" data-ng-class="{ 'has-error' : roleForm.name.$invalid && !roleForm.name.$pristine }">
	  	<div class="control-label" >
	  		<label for="name">Name</label>
	  	</div>
	  	<input 
	  	  type="text" 
	  	  class="form-control" 
	  	  id="name" 
	  	  name="name"
	  	  placeholder="Enter role name" 
	  	  data-ng-model="role.name" 
	  	  data-ng-minlength="2" 
	  	  data-ng-maxlength="10"
	  	  data-ng-trim="true"
	  	  data-ng-pattern="/^(\D)+$/"
	  	  required/>
	  	  <span data-ng-show="roleForm.name.$error.required && !roleForm.name.$pristine" class="text-danger">You name is required.</span>
	  	  <span data-ng-show="roleForm.name.$error.minlength" class="text-danger">Name is too short.</span>
        <span data-ng-show="roleForm.name.$error.maxlength" class="text-danger">Name is too long.</span>
        <span data-ng-show="roleForm.name.$error.pattern" class="text-danger">Only alphabets allowed.</span>
	  </div>
	</div>
	<div class="form-group col-sm-12">
	  <div class="col-sm-5" data-ng-class="{ 'has-error' : roleForm.description.$invalid && !roleForm.description.$pristine }">
	  	<div class="control-label" >
	  		<label for="description">Description</label>
	  	</div>
	  	<input 
	  	  type="text" 
	  	  class="form-control" 
	  	  id="description" 
	  	  name="description"
	  	  placeholder="Describe role" 
	  	  data-ng-model="role.description"
	  	  data-ng-maxlength="100"
	  	  data-ng-trim="true">
	  	  <span data-ng-show="roleForm.description.$error.maxlength">Only 100 characters are allowed.</span>
	  </div>
	</div>
  <div>
    <button type="submit" class="btn btn-default" data-ng-click="cancel();">Cancel</button>
    <button type="submit" class="btn btn-primary" data-ng-click="addRole(role);" data-ng-disabled="roleForm.$invalid">{{btnlabel}}</button>
   </div>
</form>