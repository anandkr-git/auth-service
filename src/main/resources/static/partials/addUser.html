<div class="page-header">
  <h3>{{actionName}} User:</h3>
</div>
<form name="userForm" novalidate>
	<div class="form-group col-sm-12">
		<div data-ng-show="added" class="alert alert-success alert-dismissible" role="alert">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		  	<strong>Success!</strong> User <strong>{{user.firstName}}</strong> has been {{action}}. <a data-ng-href="#/users">View list</a>.
		</div>
		<div data-ng-show="alreadyExists" class="alert alert-danger alert-dismissible" role="alert">
	      	<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	      	<strong>Not added!</strong> User <strong>{{user.firstName}}</strong> already exists in the database. <a data-ng-href="#/users">View list</a>.
	    </div>
	    <div data-ng-show="errorAdding" class="alert alert-danger alert-dismissible" role="alert">
	      	<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	      	<strong>Not added!</strong> There was a problem adding User <strong>{{user.firstName}}</strong>. Please try again. <a data-ng-href="#/users">View list</a>.
	    </div>
	</div>
	<div class="form-group col-sm-12">
	  	<div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.firstName.$invalid && !userForm.firstName.$pristine }">
		  	<div class="control-label" >
	      		<label for="name">First Name</label>
	      	</div>
	  		<input 
	  	  		type="text" 
		  	  	class="form-control" 
		  	  	id="firstName" 
		  	  	name="firstName"
		  	  	placeholder="Enter first name" 
		  	  	data-ng-model="user.firstName" 
		  	  	data-ng-minlength="2" 
		  	  	data-ng-maxlength="20"
		  	  	data-ng-trim="true"
		  	  	data-ng-pattern="/^(\D)+$/"
		  	  	required/>
		  	  	<span data-ng-show="userForm.firstName.$error.required && !userForm.firstName.$pristine" class="text-danger">First name is required.</span>
		  	  	<span data-ng-show="userForm.firstName.$error.minlength" class="text-danger">First name is too short.</span>
	        	<span data-ng-show="userForm.firstName.$error.maxlength" class="text-danger">First name is too long.</span>
	        	<span data-ng-show="userForm.firstName.$error.pattern" class="text-danger">Only alphabets allowed.</span>
	  	</div>
    	<div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.middleName.$invalid && !userForm.middleName.$pristine }">
    		<div class="control-label" >
	      		<label for="name">Middle Name</label>
	      	</div>
      		<input 
        		type="text" 
		        class="form-control" 
		        id="middleName" 
		        name="middleName"
		        placeholder="Enter middle name" 
		        data-ng-model="user.middleName" 
		        data-ng-minlength="1" 
		        data-ng-maxlength="20"
		        data-ng-trim="true"
		        data-ng-pattern="/^(\D)+$/"
		        />
		        <span data-ng-show="userForm.middleName.$error.minlength" class="text-danger">Middle name is too short.</span>
		        <span data-ng-show="userForm.middleName.$error.maxlength" class="text-danger">Middle name is too long.</span>
		        <span data-ng-show="userForm.middleName.$error.pattern" class="text-danger">Only alphabets allowed.</span>
    	</div>
    	<div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.lastName.$invalid && !userForm.lastName.$pristine }">
	    	<div class="control-label" >
	      		<label for="name">Last Name</label>
	      	</div>
		    <input 
		        type="text" 
		        class="form-control" 
		        id="lastName" 
		        name="lastName"
		        placeholder="Enter last name" 
		        data-ng-model="user.lastName" 
		        data-ng-minlength="2" 
		        data-ng-maxlength="20"
		        data-ng-trim="true"
		        data-ng-pattern="/^(\D)+$/"
		        required/>
		        <span data-ng-show="userForm.lastName.$error.required && !userForm.lastName.$pristine" class="text-danger">First name is required.</span>
		        <span data-ng-show="userForm.lastName.$error.minlength" class="text-danger">First name is too short.</span>
		        <span data-ng-show="userForm.lastName.$error.maxlength" class="text-danger">First name is too long.</span>
		        <span data-ng-show="userForm.lastName.$error.pattern" class="text-danger">Only alphabets allowed.</span>
    	</div>
	</div>
	<div class="form-group col-sm-12">
	    <div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.username.$invalid && !userForm.username.$pristine }">
	    	<div class="control-label" >
      			<label for="name">Username</label>
    		</div>
	      	<input 
		        type="text" 
		        class="form-control" 
		        id="username" 
		        name="username"
		        placeholder="Enter username" 
		        data-ng-model="user.username" 
		        data-ng-minlength="5" 
		        data-ng-maxlength="20"
		        data-ng-trim="true"
		        data-ng-pattern="/^(\D)+$/"
		        required/>
		        <span data-ng-show="userForm.username.$error.required && !userForm.username.$pristine" class="text-danger">Username is required.</span>
		        <span data-ng-show="userForm.username.$error.minlength" class="text-danger">Username is too short.</span>
		        <span data-ng-show="userForm.username.$error.maxlength" class="text-danger">Username is too long.</span>
		        <span data-ng-show="userForm.username.$error.pattern" class="text-danger">Only alphabets allowed.</span>
	    </div>
	    <div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.password.$invalid && !userForm.password.$pristine }">
	    	<div class="control-label" >
      			<label for="name">Password</label>
    		</div>
		    <input 
		        type="text" 
		        class="form-control" 
		        id="password" 
		        name="password"
		        placeholder="Enter password" 
		        data-ng-model="user.password" 
		        data-ng-minlength="5" 
		        data-ng-maxlength="20"
		        data-ng-trim="true"
		        data-ng-pattern="/^(\D)+$/"
		        required/>
		        <span data-ng-show="userForm.password.$error.required && !userForm.password.$pristine" class="text-danger">Password is required.</span>
		        <span data-ng-show="userForm.password.$error.minlength" class="text-danger">Password is too short.</span>
		        <span data-ng-show="userForm.password.$error.maxlength" class="text-danger">Password is too long.</span>
		        <span data-ng-show="userForm.password.$error.pattern" class="text-danger">Only alphabets allowed.</span>
	    </div>
	    <div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }">
	    	<div class="control-label" >
      			<label for="name">Email</label>
    		</div>
	      	<input 
		        type="email" 
		        class="form-control" 
		        id="email" 
		        name="email"
		        placeholder="Enter email" 
		        data-ng-model="user.email" 
		        data-ng-minlength="5" 
		        data-ng-maxlength="50"
		        data-ng-trim="true"
		        required/>
		        <span data-ng-show="userForm.email.$error.required && !userForm.email.$pristine" class="text-danger">Email is required.</span>
		        <span data-ng-show="userForm.email.$error.minlength" class="text-danger">Email is too short.</span>
		        <span data-ng-show="userForm.email.$error.maxlength" class="text-danger">Email is too long.</span>
		        <span data-ng-show="userForm.email.$error.email" class="text-danger">Invalid email.</span>
	    </div>
  </div>
  <div class="form-group col-sm-12">
    <div class="col-sm-4" data-ng-class="{ 'has-error' : userForm.rolesArray.$invalid && !userForm.rolesArray.$pristine }">
    	<div class="control-label" >
	      <label for="rolesArray">Roles</label>
	    </div>
      	<select class="form-control" 
	        name="rolesArray" 
	        data-ng-model="user.roles" 
	        multiple 
	        data-ng-multiple="true" 
	        data-ng-options="role.name for role in roles track by role.name" 
	        required>
      	</select>  
      	<span class="error" data-ng-show="userForm.rolesArray.$dirty && userForm.rolesArray.$invalid">Select roles(s)</span>
    </div>
  </div>
  <div class="form-group col-sm-12">
    <div class="col-sm-4">
      	<div class="control-label" >
      		<label for="enabled">enabled?</label>
    	</div>
      	<label class="radio-inline">
        	<input type="radio" name="enabled" id="enabledYes" value="true" data-ng-model="user.enabled" data-ng-value="true"> Yes
      	</label>
      	<label class="radio-inline">
        	<input type="radio" name="enabled" id="enabledNo" value="false" data-ng-model="user.enabled" data-ng-value="false"> No
     	</label>
    </div>
  </div>
  <div>
    <button type="submit" class="btn btn-default" data-ng-click="cancel();">Cancel</button>
    <button type="submit" class="btn btn-primary" data-ng-click="addUser(user);" data-ng-disabled="userForm.$invalid">{{btnlabel}}</button>
   </div>
</form>